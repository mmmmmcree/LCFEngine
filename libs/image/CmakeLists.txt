project(image)

file(GLOB_RECURSE HEADERS "include/*.h")
file(GLOB_RECURSE SOURCES "src/*.cpp")

add_library(${PROJECT_NAME} STATIC
    ${HEADERS}
    ${SOURCES}
)

find_package(Stb REQUIRED)
find_package(Boost REQUIRED COMPONENTS gil)
find_package(PNG REQUIRED)    
find_package(JPEG REQUIRED)

include_directories(
  ${CMAKE_CURRENT_SOURCE_DIR}/include 
)
 
target_include_directories(${PROJECT_NAME}
    PUBLIC
        $<INSTALL_INTERFACE:include>
        $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
    PRIVATE
        ${CMAKE_CURRENT_SOURCE_DIR}/src
        ${Stb_INCLUDE_DIR} 
)

target_link_libraries(${PROJECT_NAME} 
  PUBLIC
    utilities
  PRIVATE
    Boost::gil
    PNG::PNG
    JPEG::JPEG
)    