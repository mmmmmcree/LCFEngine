project(utilities)

file(GLOB_RECURSE HEADERS "include/*.h")

add_library(${PROJECT_NAME} INTERFACE)
target_sources(${PROJECT_NAME} INTERFACE ${HEADERS})

find_package(Boost REQUIRED)
find_package(magic_enum CONFIG REQUIRED)
find_package(nlohmann_json CONFIG REQUIRED)
find_package(spdlog REQUIRED)
find_path(HALF_INCLUDE_DIRS "half.hpp")

include_directories(
  ${CMAKE_CURRENT_SOURCE_DIR}/include 
)
 
target_include_directories(${PROJECT_NAME}
  INTERFACE
      $<INSTALL_INTERFACE:include>
      $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
      ${CMAKE_CURRENT_SOURCE_DIR}/src
      ${HALF_INCLUDE_DIRS}
)

target_link_libraries(${PROJECT_NAME} 
  INTERFACE
    magic_enum::magic_enum
    Boost::headers 
    nlohmann_json::nlohmann_json
    spdlog::spdlog
)    